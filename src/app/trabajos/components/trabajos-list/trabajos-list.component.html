<div class="container-xl">
          
    <!-- Page title Header -->
    <div class="page-header d-print-none">
      <div class="row align-items-center">
        
        <!-- Page title -->
        <div class="col">
          <!-- Page pre-title 
          <div class="page-pretitle">
            Overview
          </div> -->
          <h2 class="page-title">
            Gestionar Trabajos
          </h2>
        </div>

        <!-- Page title actions -->
        <div class="col-auto ms-auto d-print-none">
          <div class="btn-list">
            
            <a href="#" class="btn btn-light" data-bs-toggle="collapse" data-bs-target="#panelFiltros" aria-expanded="true">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-filter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"></path>
              </svg> Filtros
            </a>
            
            <button class="btn btn-light d-none d-sm-block" (click)="cambiarVista()">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-replace" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <rect x="3" y="3" width="6" height="6" rx="1"></rect>
                <rect x="15" y="15" width="6" height="6" rx="1"></rect>
                <path d="M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"></path>
                <path d="M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"></path>
              </svg> Vista
            </button>

            <a routerLink="/newTrabajo" class="btn btn-primary">
              <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" /></svg>
              Nuevo
            </a>
            
          </div>
        </div>  <!-- ./Page title actions -->

      </div>
    </div>
  </div>

  <!-- Contenido Página -->
  <div class="page-body">
    <div class="container-xl">
      <div class="row row-cards">
        
        <!-- Filtros -->
        <form id="clientesFilterList" [formGroup]="filterForm">
        <div class="col-12">
          <div id="panelFiltros" class="accordion-collapse collapse" >
            <div class="card">
            
              <div class="card-header">
                <h3 class="card-title">Filtros disponibles</h3>

                <div class="card-actions">
                  <button class="btn btn-yellow" (click)="trabajosFilter()">
                    <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-filter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                      <path d="M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"></path>
                   </svg> 
                    &nbsp;Filtrar                         
                  </button>
                </div>

              </div>

              <div class=" card-body">
                <div class="row ">
                  <!-- Filtro Titular -->
                  <div class="col-md-6 col-xl-3">
                    <div class="mb-3">
                      <label class="form-label">Tipo</label>
                      <select name="formTipo" [formControl]="idTipo" class="form-select">
                        <option value="0" selected>- Todos -</option>
                        <option 
                          *ngFor="let tipoTrabajo of (tiposTrabajo$ | async)"
                          [ngValue]="tipoTrabajo.id"
                        >
                          {{tipoTrabajo.titulo}}
                      </option>
                      </select>
                    </div>  <!-- ./col-mb-3 -->
                  </div>  <!-- ./col-md-6 -->

                  <!-- Filtro Fecha Inicio -->
                  <div class="col-md-3 col-xl-2">
                    <div class="mb-3">
                      <label class="form-label">Fecha Inicio</label>
                      <div class="input-icon mb-2">
                        <input class="form-control " placeholder="" id="filterDateIni" [formControl]="fInicio" value="">
                        <span class="input-icon-addon"><!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                        </span>
                      </div>
                    </div>  <!-- ./col-mb-3 -->
                  </div>  <!-- ./col-md-6 -->

                  <!-- Filtro Fecha Fin -->
                  <div class="col-md-3 col-xl-2">
                    <div class="mb-3">
                      <label class="form-label">Fecha Fin</label>
                      <div class="input-icon mb-2">
                        <input class="form-control " placeholder="" id="filterDateFin" [formControl]="fFin" value="">
                        <span class="input-icon-addon"><!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                        </span>
                      </div>
                    </div>  <!-- ./col-mb-3 -->
                  </div>  <!-- ./col-md-6 -->


                </div>  <!-- ./row -->
              </div>  <!-- ./card-body -->
            </div>  <!-- ./card -->  
          </div>  <!-- ./collapse -->
        </div>  <!-- ./col-12 -->
        </form>

        <!-- TRABAJOS LISTADO -->
        <div id="panelLista" class="col-12" *ngIf="!isShown">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Listado de Trabajos</h3>

              <div class="card-actions d-block d-sm-none">
                <a href="#" class="btn btn-light" data-bs-toggle="collapse" aria-expanded="true">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-replace" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <rect x="3" y="3" width="6" height="6" rx="1"></rect>
                    <rect x="15" y="15" width="6" height="6" rx="1"></rect>
                    <path d="M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"></path>
                    <path d="M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"></path>
                  </svg> Vista
                </a>
              </div>  <!-- ./card-actions -->
            </div>  <!-- ./card-header -->
            
            <div class="table-responsive">
              <table class="table card-table table-vcenter text-nowrap datatable">
                <thead>
                  <tr>
                    <th>Fecha</th>
                    <th>Tipo</th>
                    <th>Descripción</th>
                    <th>Dirección</th>
                    <th>Solicitante</th>
                    <th></th>
                  </tr>
                </thead>

                <tbody>

                  <tr *ngIf="numTrabajos == 0">
                    <td colspan="6" class="text-center">No existen trabajos.</td>
                  </tr>
                  
                  <tr *ngFor="let trabajo of trabajos$ | async">
                    <td>{{trabajo.fEntrada | date: 'dd-MM-yyyy' }}</td>
                    <td> - Tipo - </td>
                    <td>{{trabajo.descripcion}}.</td>
                    <td>{{trabajo.direccion}}</td>
                    <td> - Solicitante - </td>
                    <td class="text-end">
                      <a routerLink="/trabajos/{{trabajo.id}}" class="btn btn-light w-10 btn-icon">
                        <!-- Download SVG icon from http://tabler-icons.io/i/brand-tabler -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                          <circle cx="12" cy="12" r="2"></circle>
                          <path d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"></path>
                        </svg>                           
                      </a>
                    </td>
                  </tr>   

                </tbody>
              </table>
            </div>  <!-- ./Table-responsive -->

            <!-- Card Footer -->
            <div class="card-footer d-flex align-items-center">
              <p class="m-0 text-muted"> <!--<span>1</span> a <span>8</span> de  --><span>{{numTrabajos}}</span> resultados</p>
              <!--<ul class="pagination m-0 ms-auto">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true"> -->
                    <!-- Download SVG icon from http://tabler-icons.io/i/chevron-left -->
                    <!--<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>
                  </a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>

                <li class="page-item">
                  <a class="page-link" href="#">-->
                    <!-- Download SVG icon from http://tabler-icons.io/i/chevron-right -->
                   <!-- <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>
                  </a>
                </li>         
              </ul>-->
            </div>  <!-- ./card-footer -->
          </div>  <!-- ./card -->
        </div>  <!-- ./col-12 -->

        <!-- MAPAS -->
        <div id="panelMap" class="col-12" [className]="isShown ? 'd-block' : 'd-none'">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Mapa de Trabajos</h3>
                <div class="card-actions d-block d-sm-none">
                  <a href="#" class="btn btn-light">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-replace" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                      <rect x="3" y="3" width="6" height="6" rx="1"></rect>
                      <rect x="15" y="15" width="6" height="6" rx="1"></rect>
                      <path d="M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"></path>
                      <path d="M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"></path>
                    </svg> Vista
                  </a>
                </div>  <!-- ./card-actions -->
            </div>  <!-- ./card-header -->

            <div class="card-body">

              <div id="mapListTrabajo"></div>

            </div>
          </div>
        </div>

      </div>  <!-- ./row-cards -->
    </div>  <!-- ./container-xl -->

  </div>  <!-- ./page-body Contenido Página -->


  <!-- JS DATEPICKERS -->
  
  <script>   // Datepicker Ini 
    // @formatter:off
    document.addEventListener("DOMContentLoaded", function () {
      window.Litepicker && (new Litepicker({
        element: document.getElementById('filterDateIni'),
        buttonText: {
          previousMonth: `<!-- Download SVG icon from http://tabler-icons.io/i/chevron-left -->
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>`,
          nextMonth: `<!-- Download SVG icon from http://tabler-icons.io/i/chevron-right -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>`,
        },
      }));
    });
    // @formatter:on
  </script>

<script>   // Datepicker Fin 
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    window.Litepicker && (new Litepicker({
      element: document.getElementById('filterDateFin'),
      buttonText: {
        previousMonth: `<!-- Download SVG icon from http://tabler-icons.io/i/chevron-left -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>`,
        nextMonth: `<!-- Download SVG icon from http://tabler-icons.io/i/chevron-right -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>`,
      },
    }));
  });
  // @formatter:on
</script>